<!DOCTYPE html>
<html lang="en">
<head>
	<title>Shopping Cart</title>
    <style>
         #header {
            background: #800101;
			height: 200px;
            line-height: 200px;
			color: #FFF;
			font-size: 1.5em;
			text-align: center;
		}
        #footer {
            background: #000000;
			height: 50px;
            line-height: 50px;
			color: #FFF;
			text-align: center;
        }
        
        #cars {
            flex-wrap: wrap;
            justify-content: center;
            display: flex;
            flex-direction: row;
        }
        .auto {
            display: flex;
            flex-direction: column;
            margin: auto;
        }
        .img {
            height: 200px;
            width: auto;
            margin: auto;
        }
        body {
            margin: 0px;
            padding:0px;
        }
        .auto > strong{
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 1.2em;
        }
        #fund {
            text-align: left;
            margin-left: 50px;
        }
        #fund > strong {
            font-size: 1.2em;
        }
        #cart {
            text-align: right;
            margin-right: 50px;
        }
        #cart > strong {
            font-size: 1.2em;
        }
        #input {
            margin-left: 50px;
        }
    </style>
</head>
<body>
    <div id="header">
        <h1>Automobile Cart</h1>
    </div>
    <div id="main">
        <div id="cars">
            <div id="car1" class="auto">
                <img class="img" src="img/img_1.jpg" alt="2024 Audi A4">
                <strong>2024 Audi A4</strong>
                <strong>$41200</strong>
            </div>
            <div id="car2" class="auto">
                <img class="img" src="img/img_2.png" alt="2023 Mercedes-Benz C300">
                <strong>2023 Mercedes-Benz C300</strong>
                <strong>$46000</strong>
            </div>
            <div id="car3" class="auto">
                <img class="img" src="img/img_3.png" alt="2024 BMW X5">
                <strong>2024 BMW X5</strong>
                <strong>$65200</strong>
            </div>
        </div>
        <div id="fund">
            <strong>Remaining Funds: $<span id="fund-value">0</span></strong>
        </div>
        <div id="cart">
            <strong>Cart Subtotal: $<span id="cart-value">0</span></strong>
        </div>
        <div id="input">
			<input type="text" id="input-value" class="form-control">
			<button id="input-button">Add Funds</button>
		</div>
    </div>
	<div id="footer">
        <h3>Automobile Cart</h3>
    </div>
    
    <!-- here's the workflow:
        1. create a variable to record the cart subtotal, which is 0 at the beginning,
        2. detect the user clicking on a product,
        3. add the corresponding price of the product to the variable,
        4. display the new value of the variable in the appropriate <span> tag,
        5. when the user clicks on any of the product again, repeat the above steps.
    -->
        
	<script>
		var cartsub = 0;            // this is the variable recording the subtotal
        var totalfund = 0;          // the remaining fund
		document.querySelector('#car1').onclick = function(){   // when the product is clicked
            if (totalfund >= 41200) {   // if the user's remaining balance is greater than the product's price
                cartsub += 41200;       // add the car's price to the subtotal
                document.querySelector("#cart-value").innerHTML = cartsub; // change the subtotal to the new value
                totalfund -= 41200;     // decrease the remaining funds by the corresponding value; 
                document.querySelector("#fund-value").innerHTML = totalfund; // change the remaining funds to the new value
            }
            else {                      // if the price of a product exceeds the user's remaining balance
                alert("Insufficient funds");  // show alert
            }
		};
        document.querySelector('#car2').onclick = function(){
            if (totalfund >= 46000) {
                cartsub += 46000;
                totalfund -= 46000;
                document.querySelector("#cart-value").innerHTML = cartsub;
                document.querySelector("#fund-value").innerHTML = totalfund;
            }
            else {
                alert("Insufficient funds");
            }
		};
        document.querySelector('#car3').onclick = function(){
            if (totalfund >= 65200) {
                cartsub += 65200;
                totalfund -= 65200;
                document.querySelector("#cart-value").innerHTML = cartsub;
                document.querySelector("#fund-value").innerHTML = totalfund;
            }
            else {
                alert("Insufficient funds");
            }
		};
        document.querySelector('#input-button').onclick = function(){
            var addvalue = document.querySelector('#input-value').value;
            addvalue = parseInt(addvalue);
            console.log(addvalue);
            totalfund = totalfund + addvalue;
            console.log(totalfund);
            document.querySelector('#fund-value').innerHTML = totalfund;
            document.querySelector('#input-value').value = '';
        }
		
	</script>
</body>
</html>